<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <title>Mosaic Generator</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <style>
        @layer base {
            input[type='number']::-webkit-outer-spin-button,
            input[type='number']::-webkit-inner-spin-button,
            input[type='number'] {
                -webkit-appearance: none;
                margin: 0;
                -moz-appearance: textfield !important;
            }
        }
    </style>
</head>

<body class="bg-slate-900 text-white">
<main class="py-8 flex flex-col gap-y-4 max-w-[512px] mx-auto justify-center text-center">
    <h1 class="text-2xl font-semibold uppercase tracking-wide">Mosaic Generator</h1>
    <div class="py-4 border-dotted border-1 border-white bg-slate-800 flex justify-center items-center">
        <div class="absolute">
            <div class="flex flex-col items-center">
                <i class="fa fa-folder-open fa-4x text-blue-700"></i>
                <span class="block text-gray-400 font-normal">Upload Image</span>
            </div>
        </div>
        <input type="file" id="input_image" class="h-full w-full opacity-0">
    </div>
    <div class="py-4 gap-2 flex justify-center items-center border-1 border-white">
        <label for="mosaic_size">Mosaic Size</label>
        <input type="range" id="mosaic_size" value="8" min="1" max="128"
               oninput="this.nextElementSibling.value=this.value"/>
        <input class="bg-slate-800 text-center appearance-none" type="number" min="1" max="128" value="8"
               oninput="this.previousElementSibling.value=this.value"/>
    </div>
    <button class="hover:bg-slate-500 cursor-pointer py-4 bg-slate-400 text-black uppercase font-bold tracking-wide"
            id="submit">Generate Mosaic
    </button>
    <canvas id="mosaic" width="512" height="512" class="border-1 border-white"></canvas>
    <div id="tooltip"
         class="absolute flex flex-col justify-center items-center p-3 bg-slate-900 text-white rounded-lg pointer-events-none hidden z-50 max-w-xs shadow-lg space-y-2">
        <div id="tooltip_details" class="text-sm leading-snug break-words"></div>
        <img id="tooltip_image"
             class="w-20 h-20 m-auto object-cover rounded-md border border-slate-700"
             src=""
             alt="Tooltip preview"/>
    </div>
    <div id="loader"
         class="fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-[18px] bg-black/80 text-white px-6 py-3 rounded-lg hidden z-[999]">
        ‚è≥ Generating mosaic... Please wait
    </div>
    <script src="script.js"></script>
</body>
</html>

</main>
